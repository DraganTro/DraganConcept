<?php
/*
Template Name: Modèle Portfolio
*/
?>

<div class="portfolio-section">
   <?php
   $args = array(
      'post_type' => 'projet', // Remplacez 'projet' par le slug de votre type de publication personnalisé
      'posts_per_page' => 3 // Nombre de projets à afficher
   );
   $projects = new WP_Query($args);
   
   if ($projects->have_posts()) :
      while ($projects->have_posts()) :
         $projects->the_post();
         $image = get_field('image'); // Remplacez 'image' par le nom de votre champ d'image ACF
         $title = get_the_title();
         $description = get_field('description_breve'); // Remplacez 'description_breve' par le nom de votre champ de description brève ACF
         $permalink = get_permalink();
   ?>
   
   <div class="portfolio-card">
      <a href="<?php echo esc_url($permalink); ?>">
         <img src="<?php echo esc_url($image['url']); ?>" alt="<?php echo esc_attr($title); ?>">
         <div class="portfolio-card-overlay">
            <h3><?php echo esc_html($title); ?></h3>
            <p><?php echo esc_html($description); ?></p>
            <!-- Autres éléments à afficher au survol -->
         </div>
      </a>
   </div>
   
   <?php
      endwhile;
      wp_reset_postdata();
   endif;
   ?>
</div>